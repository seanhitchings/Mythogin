/* ==========================================================================
   pages/test.css â€” TEST / MAIN PAGE STYLES (Includes Hero: container + clamp + title rolling glow)
   ========================================================================== */

/* ==========================================================================
   HERO (Landing/Home only)
   ========================================================================== */

/* ONE KNOB to keep BOTH animations synced */
:root {
  --hero-sync: 14s; /* set once; both title + tagline use this */
}

.hero {
  padding-top: 24px;
  padding-bottom: 72px;
}

.hero-card {
  position: relative;
  overflow: hidden;
  border: 1px solid var(--line);
  border-radius: calc(var(--radius) + 8px);
  background: linear-gradient(180deg, rgba(17,21,27,.96), rgba(15,19,25,.96));
  box-shadow: var(--shadow);
}

/* Keep internal glow INSIDE the card */
.hero-card::before {
  content: "";
  position: absolute;
  inset: -2px;
  pointer-events: none;
  background:
    radial-gradient(800px 320px at 14% 12%, rgba(215,188,161,.22), transparent 62%),
    radial-gradient(640px 260px at 86% 18%, rgba(161,187,215,.18), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,0));
  mix-blend-mode: screen;
  opacity: .75;
}

.hero-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: radial-gradient(rgba(255,255,255,.07) 1px, transparent 1px);
  background-size: 14px 14px;
  opacity: .05;
}

/* Image hero card */
.hero-card.hero-card--image {
  padding: 0;
}

/* HERO MEDIA STACK (this is the container) */
.hero-media {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 7; /* REAL clamp */
  height: clamp(300px, 42vw, 520px);
  overflow: hidden;
  border-radius: calc(var(--radius) + 6px);
}

/* Background hero image */
.hero-media .hero-bg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  display: block;
  position: relative;
  z-index: 1;
}

/* Gradient overlay layer */
.hero-media-overlay {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
}

/* ------------------------------------------------------------
   Overlays: tagline (top) + title (bottom)
   ------------------------------------------------------------ */

.hero-inner.hero-inner--tagline {
  position: absolute;
  left: 0;
  right: 0;
  top: -10px;
  padding: clamp(12px, 2.2vw, 18px);
  text-align: center;
  z-index: 4;
}

.hero-inner.hero-inner--title {
  position: absolute;
  left: 0;
  right: 0;
  bottom: -60px; /* your current placement */
  padding: 0 16px;
  text-align: center;
  z-index: 4;
}

/* Stronger â€œbook lightâ€ bloom rising into the scene */
.hero-inner.hero-inner--title::before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -12px;
  width: min(820px, 94vw);
  height: 220px;
  pointer-events: none;
  background:
    radial-gradient(
      50% 100% at 50% 100%,
      rgba(197,118,3,.42),
      rgba(197,118,3,.18) 38%,
      rgba(80,200,180,.10) 62%,
      rgba(0,0,0,0) 78%
    );
  filter: blur(18px);
  opacity: .85;
  mix-blend-mode: screen;
}

/* ==========================================================================
   Tagline styling (your funnel colors)
   ========================================================================== */

.hero-tagline--fancy {
  position: relative;
  display: inline-block;
  margin: 0;
  padding: 2px 10px;
  max-width: min(78ch, 92%);
  border-radius: 18px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0) 18%),
    linear-gradient(180deg, rgba(0,0,0,.88), rgba(0,0,0,.64));
  border: 1px solid rgba(215,188,161,.22);
  box-shadow:
    0 22px 60px rgba(0,0,0,.70),
    0 10px 24px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.09),
    inset 0 -10px 18px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(0,0,0,.55);
  color: rgba(248,250,252,.96);
  font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  font-size: clamp(15px, 1.6vw, 19px);
  font-weight: 500;
  letter-spacing: .015em;
  line-height: 1.42;
  text-shadow:
    0 3px 14px rgba(0,0,0,.92),
    0 0 1px rgba(0,0,0,.75);
  backdrop-filter: blur(10px) saturate(125%);
  -webkit-backdrop-filter: blur(10px) saturate(125%);
  transform: translateZ(0);
  isolation: isolate;
  filter:
    drop-shadow(0 18px 46px rgba(0,0,0,.65))
    drop-shadow(0 0 44px rgba(80,200,180,.14))
    drop-shadow(0 0 34px rgba(161,187,215,.12))
    drop-shadow(0 0 24px rgba(215,188,161,.10));
}

.hero-tagline--fancy::before {
  content: "";
  position: absolute;
  inset: -34px -46px -28px -46px;
  border-radius: 999px;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(55% 120% at 20% 55%, rgba(80,200,180,.24), rgba(0,0,0,0) 62%),
    radial-gradient(55% 120% at 80% 55%, rgba(70,160,220,.20), rgba(0,0,0,0) 64%),
    radial-gradient(70% 120% at 50% 60%, rgba(215,188,161,.16), rgba(0,0,0,0) 70%);
  filter: blur(22px);
  opacity: .95;
  mix-blend-mode: screen;
}

/* âœ… Tagline shimmer stays LEFT â†’ RIGHT */
.hero-tagline--fancy::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(
      90deg,
      rgba(255,255,255,0) 0%,
      rgba(150,220,255,.00) 35%,
      rgba(200,255,255,.35) 48%,
      rgba(255,255,255,.55) 52%,
      rgba(200,255,255,.35) 56%,
      rgba(150,220,255,.00) 68%,
      rgba(255,255,255,0) 100%
    ),
    radial-gradient(circle at 12% 58%, rgba(255,255,255,.45) 0 1.5px, transparent 3px),
    radial-gradient(circle at 26% 40%, rgba(215,188,161,.55) 0 1.5px, transparent 3px),
    radial-gradient(circle at 38% 65%, rgba(80,200,180,.55) 0 1.5px, transparent 3px),
    radial-gradient(circle at 54% 44%, rgba(255,255,255,.45) 0 1.5px, transparent 3px),
    radial-gradient(circle at 68% 60%, rgba(161,187,215,.55) 0 1.5px, transparent 3px),
    radial-gradient(circle at 82% 42%, rgba(215,188,161,.55) 0 1.5px, transparent 3px);
  background-size: 260% 100%, auto, auto, auto, auto, auto, auto;
  background-position: -200% 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
  opacity: .9;
  mix-blend-mode: screen;
  filter: blur(.45px);
  /* ðŸ”’ LOCKED to --hero-sync; starts at same time as title */
  animation: escort-sweep var(--hero-sync) linear infinite reverse;
  animation-delay: 0s;
}

@keyframes escort-sweep {
  from {
    background-position: -200% 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
    opacity: .4;
  }
  40% {
    opacity: .95;
  }
  to {
    background-position: 140% 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
    opacity: .4;
  }
}

/* Funnel (3 lines) */
.hero-tagline--funnel-3 {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
}

.hero-tagline--funnel-3 .line {
  display: block;
  text-align: center;
  margin: 0 auto;
  white-space: nowrap;
}

.hero-tagline--funnel-3 .line-1 {
  font-size: clamp(18px, 2vw, 24px);
  letter-spacing: .01em;
  color: #FFFF2D;
}

.hero-tagline--funnel-3 .line-2 {
  margin-top: 4px;
  font-size: clamp(16px, 1.7vw, 20px);
  letter-spacing: .015em;
  color: #FFFF2D;
  transform: scaleX(.92);
}

.hero-tagline--funnel-3 .line-3 {
  margin-top: 6px;
  font-size: clamp(14px, 1.5vw, 18px);
  letter-spacing: .06em;
  text-transform: none;
  color: #FFB13A;
  transform: scaleX(.82);
}

/* ==========================================================================
   Title rolling glow (letters-only)
   ========================================================================== */

.hero-title-wrap {
  position: relative;
  display: inline-block;
  margin: 0 auto;
  isolation: isolate;
  transform: translateZ(0);
  --title-mask-url: url("/mythogin/images/main/title.webp");
}

/* Hide the visible title image, but keep it for sizing */
.hero-title-img {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  user-select: none;
  display: block;
  width: min(975px, 77.5%);
  max-width: 975px;
  height: auto;
  margin: 0 auto;
}

/* âœ… Title glow stays BOTTOM â†’ TOP */
.hero-title-wrap {
  /* add defaults (JS can override) */
  --title-opacity: 0;
  --title-pos-y: 160%;
}

.hero-title-wrap::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,0) 0%,
    rgba(255,245,210,0) 56%,
    rgba(255,245,210,.04) 64%,
    rgba(255,245,210,.10) 70%,
    rgba(255,245,210,.20) 75%,
    rgba(255,245,210,.34) 79%,
    rgba(255,245,210,.55) 82%,
    rgba(255,245,210,.78) 85%,
    rgba(255,245,210,.95) 88%,
    rgba(255,245,210,.95) 93%,
    rgba(255,245,210,.70) 96%,
    rgba(255,245,210,.40) 98%,
    rgba(255,245,210,0) 100%
  );
  background-size: 100% 240%;
  background-position: 0 var(--title-pos-y);

  mix-blend-mode: screen;
  filter: blur(.7px);

  opacity: var(--title-opacity);

  -webkit-mask-image: var(--title-mask-url);
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  -webkit-mask-size: contain;
  mask-image: var(--title-mask-url);
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: contain;
}

/* 14s cycle:
   - ON duration ~4s  => 4/14 = 28.57%
   - Fast fade ~0.28s => 0.28/14 = 2.0% (approx)
*/
@keyframes title-roll-vertical {
  /* Start hidden at the bottom */
  0% {
    background-position: 0 160%;
    opacity: 0;
  }

  /* Quick fade in */
  2% {
    opacity: .98;
  }

  /* Stay ON ~4s while rolling upward */
  28.57% {
    background-position: 0 -10%;
    opacity: .98;
  }

  /* Fast fade out */
  30.57% {
    opacity: 0;
  }

  /* Finish travel while invisible */
  60% {
    background-position: 0 -140%;
    opacity: 0;
  }

  /* Invisible reset jump back to start position */
  60.01% {
    background-position: 0 160%;
    opacity: 0;
  }

  /* Remain hidden until next cycle */
  100% {
    background-position: 0 160%;
    opacity: 0;
  }
}




@media (prefers-reduced-motion: reduce) {
  .hero-tagline--fancy::after,
  .hero-title-wrap::after {
    animation: none !important;
  }
}

/* Responsive */
@media (max-width: 760px) {
  .hero-inner.hero-inner--tagline {
    top: 8px;
  }
  .hero-inner.hero-inner--title {
    bottom: 18px;
  }
}

@media (max-width: 640px) {
  .hero-media {
    aspect-ratio: 16 / 9;
    height: clamp(200px, 54vw, 420px);
  }
}

@media (min-width: 1100px) {
  .hero-media {
    aspect-ratio: 21 / 9;
    height: clamp(320px, 34vw, 540px);
  }
}
